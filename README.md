# Detecting-Malware-and-Unauthorized-Devices

<h2>Objective</h2>
The objective of this lab is to gain an understanding of security risks related to rogue devices and malware through the exploration of active and passive scanning methods.
<br />
Key Learning Outcomes:
<br />
1. Perform both active and passive scanning techniques using Nmap.
<br />
2. Identify rogue devices on the network through the utilization of active and passive tools.
<br />
3. Develop, deploy, and detect malware in a networked environment.
<br />
<h2>Explanation</h2>
This lab focuses on network security by addressing the risks associated with rogue devices and malware. It introduces tools like ifconfig, Nmap, arp-scan, Wireshark, keyloggers, Kali Linux with Metasploit, and DarkComet malware. Through this experience, you will identify networks, detect rogue devices, analyze network traffic, understand keyloggers, explore security testing tools, and craft, deploy, as well as detect malware. This hands-on learning experience aims to enhance your cybersecurity skills, making you proficient in network defense and security assessments.<p>
<br />

Lab Topology: <br/>
<img src="https://imgur.com/fxsQuoS.png" height="80%" width="80%" alt="Disk Sanitization Steps"/>
<br />
<br />
<h2>Determining the network Range</h2>
Begin by starting up the Kali Linux machine in the network topology. On this Kali system, all three of the company's networks are accessible. 
<br/>
My task is to identify any unauthorized machines on the network by using a blend of active and passive scanning tools. 
<br/>
<br />
ifconfig: <br/>
<img src="https://imgur.com/9CM8bV0.png" height="80%" width="80%" alt="Disk Sanitization Steps"/>
<br />
<br />
ifconfig eth0 will identify the IP address of the first network:  <br/>
<br />
ifconfig eth1 will identify the IP address of the second network:  <br/>
<br />
ifconfig eth2 will identify the IP address of the third network:  <br/>
<img src="https://imgur.com/yJ41VOo.png" height="80%" width="80%" alt="Disk Sanitization Steps"/>
<br />
<br />
Below is a summary of the three networks that are connected to the Kali system.
 <br />
 Network 1 = 192.168.1.0/24
 <br />
 Network 2 = 172.16.1.0/24
 <br />
 Network 3 = 10.0.0.0/24
 <br />
 <br />
Active and passive Scanning
<br/>
First I will focus on the network segment labeled Network 1:
<br/>
<img src="https://imgur.com/3Cn8dto.png" height="80%" width="80%" alt="Disk Sanitization Steps"/>
<br />
<br /> 
ifconfig eth0: <br/>
Next, ping 192.168.1.1 -c 4: Which is pinging the firewall: <br/>
where -c 4: will send 4 ICMP echo requests to IP address 192.168.1.1 <br/>
<img src="https://imgur.com/90GhjlN.png" height="80%" width="80%" alt="Disk Sanitization Steps"/>
<br />
<br /> 
ping 192.168.1.175 -c 4: Which is pinging the Windows 8.1 Workstation: <br/>
where -c 4: will send 4 ICMP echo requests to IP address 192.168.1.175 <br/>
<img src="https://imgur.com/sGy9AER.png" height="80%" width="80%" alt="Disk Sanitization Steps"/><br />
<br />
Use Arp-scan and Zenmap to determine if there are any rogue devices on the network:  <br/>
arp-scan 192.168.1.0/24:  <br/>
<img src="https://imgur.com/c2YE8H6.png" height="80%" width="80%" alt="Disk Sanitization Steps"/>
 <br />
 <br />
From the findings obtained through the ARP scan conducted on network 1, it is evident that there is an unauthorized device present on the network.
 <br />
 192.168.1.1 = firewall
 <br />
 192.168.1.175 = Windows 8.1Workstation
 <br />
192.168.1.199 = Rogue Device <FONT COLOR="RED"> 
 <br />
 <br />
Open zenmap and scan network 1 = 192.168.1.1/24:  <br/>
 <img src="https://imgur.com/SHwoC2Q.png" height="80%" width="80%" alt="Disk Sanitization Steps"/>
 <br />
 <br />
At this juncture, we are certain that there is indeed a rogue device within network 1. We can archive this scan on our local system for future reference and email it to a supervisor for necessary follow-up actions. 
 <img src="https://imgur.com/nvyse8l.png" height="80%" width="80%" alt="Disk Sanitization Steps"/>
 <br/>
 Next, we will focus on the network segment labeled Network 2:
<br/>
<img src="https://imgur.com/fubMQvb.png" height="80%" width="80%" alt="Disk Sanitization Steps"/>
<br />
<br /> 
ifconfig eth1: <br/>
Next, ping 172.16.1.100 -c 4: Which is pinging the firewall: <br/>
where -c 4: will send 4 ICMP echo requests to IP address 172.16.1.100 <br/>
<img src="https://imgur.com/43b3vkk.png" height="80%" width="80%" alt="Disk Sanitization Steps"/>
<br />
<br /> 
Nmap -sP 172.16.1.0/24 <br/>
Nmap: This is the command used for network scanning and mapping.<br/> It's a versatile tool for probing networks and identifying active hosts, open ports, and more.
 <br/>
 -sP is a Nmap option that means "ping scan." It sends ping messages to a range of IP addresses to find out which hosts are active and responding. It's essentially a "ping-only scan."
<br />
<br />
 <img src="https://imgur.com/93orlD2.png" height="80%" width="80%" alt="Disk Sanitization Steps"/><br />
<br />
<br />
Based on the results from the Nmap scan. 
 <br />
 172.16.1.100 = Windows Server
 <br />
 172.15.1.50 = Kali Linux Machine
 <br />
<br />
 To avoid capturing traffic from other networks, I will shut the other two interfaces on Kali down
 <br />
ifconfig eth0
 <br />
 ifconfig eth2
 <br />
ifconfig
 <br />
 <br />
 <img src="https://imgur.com/vR9uIgP.png" height="80%" width="80%" alt="Disk Sanitization Steps"/>
 <br />
 <br />
Wireshark.  
 <img src="https://imgur.com/tYHL7QE.png" height="80%" width="80%" alt="Disk Sanitization Steps"/>
 <br/> 
 <br/> 
 <img src="https://imgur.com/0OJvuXo.png" height="80%" width="80%" alt="Disk Sanitization Steps"/> 
  <br/>
 IP Address 169. 254.2.202
  <br/>
 Computer Name = Rogue3 WIN7
  <br/>
  <br/>
 ifconfig eth1 169.254.1.1
  <br/>
 Nmap -O 169.254.2.202 <br/>
 -O: When you use the "-O" option with Nmap, it tries to figure out the operating system of the target host (in this case, 169.254.2.202)   <br/>
 <img src="https://imgur.com/2VDSmPc.png" height="80%" width="80%" alt="Disk Sanitization Steps"/> 
 <br/>
 Based on the results from the Rogue device on Network 2 is running Windows 7|2008|8.
 <br />
 <br />

 
Next, ping 172.16.1.100 -c 4: Which is pinging the firewall: <br/>
where -c 4: will send 4 ICMP echo requests to IP address 172.16.1.100 <br/>
<img src="https://imgur.com/43b3vkk.png" height="80%" width="80%" alt="Disk Sanitization Steps"/>
<br />
<br /> 
Nmap -sP 172.16.1.0/24 <br/>
Nmap: This is the command used for network scanning and mapping.<br/> It's a versatile tool for probing networks and identifying active hosts, open ports, and more.
 <br/>
 -sP is a Nmap option that means "ping scan." It sends ping messages to a range of IP addresses to find out which hosts are active and responding. It's essentially a "ping-only scan."
<br />
<br />
 <img src="https://imgur.com/93orlD2.png" height="80%" width="80%" alt="Disk Sanitization Steps"/><br />
<br />
<br />
Based on the results from the Nmap scan. 
 <br />
 172.16.1.100 = Windows Server
 <br />
 172.15.1.50 = Kali Linux Machine
 <br />
<br />
 To avoid capturing traffic from other networks, I will shut the other two interfaces on Kali down
 <br />
ifconfig eth0
 <br />
 ifconfig eth2
 <br />
ifconfig
 <br />
 <br />
 <img src="https://imgur.com/vR9uIgP.png" height="80%" width="80%" alt="Disk Sanitization Steps"/>
 <br />
 <br />
Wireshark.  
 <img src="https://imgur.com/tYHL7QE.png" height="80%" width="80%" alt="Disk Sanitization Steps"/>
 <br/> 
 <br/> 
 <img src="https://imgur.com/0OJvuXo.png" height="80%" width="80%" alt="Disk Sanitization Steps"/> 
  <br/>
 IP Address 169. 254.2.202
  <br/>
 Computer Name = Rogue3 WIN7
  <br/>
  <br/>
 Nmap -O 169.254.2.202 <br/>
 -O: When you use the "-O" option with Nmap, it tries to figure out the operating system of the target host (in this case, 169.254.2.202)   <br/>
 <img src="https://imgur.com/2VDSmPc.png" height="80%" width="80%" alt="Disk Sanitization Steps"/> 
 <br/>
 Based on the results from the Rogue device Network 3 is running Windows 7|2008|8.
<br />
<br /> 
End of Lab  <br/>
 

</p>

<!--
 ```diff
- text in red
+ text in green
! text in orange
# text in gray
@@ text in purple (and bold)@@
```
--!>
